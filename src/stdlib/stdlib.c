#include "stdlib.h"
char *stdlib_code = "fn println(x) {\n    print(x)\n    print(\"\\n\")\n}\n\nfn assert(cond, msg) {\n    if (!cond) {\n        println(msg)\n        exit(1)\n    }\n}\n\nfn abs(x) {\n    if (x >= 0) return x\n    return -x\n}\n\nfn max(x, y) {\n    if (x >= y) return x\n    return y\n}\n\nfn min(x, y) {\n    if (x <= y) return x\n    return y\n}\n\nfn _ry_math_sqrt(x) {\n    var epsilon = 0.00000001\n    var y0 = x/2 + epsilon\n    var y1 = (y0*y0 + 3*x)/(3*y0 + x/y0)\n    while (abs(y1*y1 - x) > epsilon) {\n        y0 = y1\n        y1 = (y0*y0 + 3*x)/(3*y0 + x/y0)\n    }\n    return y1\n}\n\nfn sqrt(x) {\n    assert(x >= 0, \"Trying to compute square root of negative number.\")\n    return _ry_math_sqrt(x)\n}\n\nfn floor(x) {\n    var n = 0\n    if (x >= 0) {\n        while (n + 1 <= x) {\n            n = n + 1\n        }\n        return n\n    } else {\n        while (n >= x) {\n            n = n - 1\n        }\n        return n\n    }\n}\n\nfn _ry_math_pown(x, n) {\n    if (n < 0) return _ry_math_pown(1/x, -n)\n    else if (n == 0) return 1\n    else if (n % 2 == 0) return _ry_math_pown(x*x, n/2)\n    else return x * _ry_math_pown(x*x, (n-1)/2)\n}\n\nfn pown(x, n) {\n    assert(floor(n) == n, \"pow : the second parameter should be an integer.\")\n    return _ry_math_pown(x, n)\n}\n\nglobal _ry_math_e = 2.71828182845904523536028747135266250\n\nfn exp(x) {\n    var n = floor(x)\n\n    if (n == x) return _ry_math_pown(_ry_math_e, n)\n\n    var epsilon = x - n\n    var res = _ry_math_pown(_ry_math_e, n)\n    var correction = 1 + epsilon + epsilon*epsilon/2 + _ry_math_pown(epsilon, 3)/6 + _ry_math_pown(epsilon, 4)/24 + _ry_math_pown(epsilon, 5)/120 + _ry_math_pown(epsilon, 6)/720\n    res = res * correction\n    return res\n}\n\nfn _ry_math_log_helper(a, b, n) {\n    var p = (b - a)/n\n    var s = 0\n    var i = 0\n    while (i < n) {\n        s = s + (1/a + 1/(a+p))*p/2\n        a = a + p\n        i = i + 1\n    }\n    return s\n}\n\nfn _ry_math_log(x) {\n    var n = 0\n    while (x > _ry_math_e) {\n        x = x / _ry_math_e\n        n = n + 1\n    }\n    return _ry_math_log_helper(1, x, 100) + n\n}\n\nfn log(x) {\n    assert(x > 0, \"log: cannot take log of negative number\")\n    return _ry_math_log(x)\n}\n\nfn pow(x, y) {\n    var n = floor(y)\n    if (n == y) return _ry_math_pown(x, n)\n    assert(x > 0, \"pow: cannot take fractional power non positive number.\")\n    return _ry_math_pown(x, n)*exp((y - n)*log(x))\n}\n\nfn integrate(f, a, b, n) {\n    var p = (b - a)/n\n    var s = 0\n    var i = 0\n    while (i < n) {\n        s = s + (f(a) + f(a+p))*p/2\n        a = a + p\n        i = i + 1\n    }\n    return s\n}\n\n# TODO : getting really bad results, to update\n\nglobal _ry_math_pi = 3.14159265358979323846264338327950288\n\nfn sin(x) {\n    return x - _ry_math_pown(x, 3)/6 + _ry_math_pown(x, 5)/120 - _ry_math_pown(x, 7)/5040 + _ry_math_pown(x, 9)/362880\n}\n\nfn cos(x) {\n    return 1 - x*x/2 + _ry_math_pown(x, 4)/24 - _ry_math_pown(x, 6)/720 + _ry_math_pown(x, 8)/40320 - _ry_math_pown(x, 10)/36288000\n}\n\nglobal _ry_random_seed = 42\nglobal _ry_random_m = _ry_math_pown(2, 32)\nglobal _ry_random_a = 69069\nglobal _ry_random_b = 0\n\nfn randu() {\n    _ry_random_seed = (_ry_random_a * _ry_random_seed + _ry_random_b) % _ry_random_m\n    return (_ry_random_seed + 1)/(_ry_random_m + 1)\n}\n\nfn rand_uniform(a, b) {\n    assert(a <= b, \"rand_uniform: parameters should be such that a <= b\")\n    return a + (b-a)*randu()\n}\n\nglobal _ry_random_use_extra_norm = false\nglobal _ry_random_norm_extra = 0\n\nfn randnorm() {\n\n    if (_ry_random_use_extra_norm) {\n        _ry_random_use_extra_norm = false\n        return _ry_random_norm_extra\n    }\n\n    var v1 = -1 + 2*randu()\n    var v2 = -1 + 2*randu()\n    var w = v1*v1 + v2*v2\n\n    while(w >= 1) {\n        v1 = -1 + 2*randu()\n        v2 = -1 + 2*randu()\n        w = v1*v1 + v2*v2\n    }\n\n    var a = _ry_math_sqrt(-2*_ry_math_log(w)/w)\n    _ry_random_norm_extra = v1 * a\n    _ry_random_use_extra_norm = true\n    return v2 * a\n\n}\n\n\n\n";